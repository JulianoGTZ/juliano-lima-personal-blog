<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/my-personal-blog/styles.69c8303230227041b58c.css" id="gatsby-global-css">html{font-size:100}body{margin:0 0 0 calc(100vw - 100%);color:#222;line-height:1.625;font-size:1rem;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body,h1,h2,h3,h4,h5,h6{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif}h1,h2,h3,h4,h5,h6{font-weight:600}h1{font-size:2.5rem;line-height:3.25rem;margin-top:6.5rem;margin-bottom:1.625rem}h2{font-size:1.6875rem;line-height:2.4375rem}h2,h3{margin-top:3.25rem;margin-bottom:.8125rem}h3{font-size:1.375rem;line-height:1.625rem}h4{font-size:1.2rem;margin-top:2.4375rem}h4,h5{line-height:1.625rem;margin-bottom:.8125rem}h5,h6{font-size:1rem;margin-top:4.0625rem}h6{line-height:1.625rem;margin-bottom:.8125rem}img{max-width:100%;margin:inherit auto}hr,img{border:0;display:block}hr{color:#222;height:1.625rem;margin:3.25rem auto;background-size:100% 26px;background-image:linear-gradient(180deg,transparent 1px,transparent 11px,#222 0,#222 15px,transparent 0,transparent 26px);width:6.25rem}a{color:#5d93ff;text-decoration:none}a:active,a:focus,a:hover{color:#f7a046}b,strong{font-weight:600}ul{list-style:square;margin-bottom:1.625rem}ul li{padding:0 .3125rem;margin-bottom:.625rem}p{line-height:1.625rem;margin-bottom:1.625rem}blockquote{padding:0;font-style:italic;text-align:center}figure{display:block;width:100%;height:auto}figcaption{line-height:1.21875rem;margin-top:.40625rem;color:#222;font-size:.875rem;font-style:italic;margin-bottom:0;text-align:center}.anchor{margin-left:-1.875rem!important;padding-right:.875rem!important}@media screen and (min-width:685px){figure.float-left,figure.float-right{max-width:19.375rem;padding:0 1.625rem}.float-right{float:right}.float-left{float:left}}code[class*=language-],pre[class*=language-]{color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#073642}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{color:#657b83;background:#eee8d5}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.Author-module--author__photo--36xCH{display:inline-block;margin-bottom:0;border-radius:50%;background-clip:padding-box}.Author-module--author__title--2CaTb{font-size:1.125rem;font-weight:600;line-height:1.82813rem;margin:.8125rem 0}.Author-module--author__title-link--Yrism,.Author-module--author__title-link--Yrism:focus,.Author-module--author__title-link--Yrism:hover{color:#222}.Author-module--author__subtitle--cAaEB{color:#888;line-height:1.625rem;margin-bottom:1.625rem}.Icon-module--icon--Gpyvw{display:inline-block;width:1em;height:1em;stroke-width:0;stroke:currentColor;fill:currentColor;font-style:normal;font-weight:400;speak:none;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.Contacts-module--contacts--1rGd1{margin-bottom:1.625rem}.Contacts-module--contacts__list--3OgdW{display:flex;flex-flow:row wrap;flex-grow:0;flex-shrink:0;list-style:none;padding:0;margin:.625rem -.1875rem;width:8.75rem}.Contacts-module--contacts__list-item--16p9q{padding:0;margin:.25rem;display:flex;align-content:center;align-items:center;justify-content:center;height:2.1875rem;width:2.1875rem;line-height:2.1875rem;border-radius:50%;text-align:center;border:1px solid #ebebeb}.Contacts-module--contacts__list-item-link--2MIDn{border:0;display:flex;color:#222}.Contacts-module--contacts__list-item-link--2MIDn:focus,.Contacts-module--contacts__list-item-link--2MIDn:hover{color:#5d93ff}.Copyright-module--copyright--1ariN{color:#b6b6b6;font-size:.875rem}.Menu-module--menu--Efbin{margin-bottom:1.625rem}.Menu-module--menu__list--31Zeo{list-style:none;padding:0;margin:0}.Menu-module--menu__list-item--1lJ6B{padding:0;margin:.625rem 0}.Menu-module--menu__list-item-link--10Ush{font-size:1rem;color:#222;font-weight:400;border:0}.Menu-module--menu__list-item-link--10Ush:focus,.Menu-module--menu__list-item-link--10Ush:hover{color:#5d93ff;border-bottom:1px solid #5d93ff}.Menu-module--menu__list-item-link--active--2CbUO{color:#222;border-bottom:1px solid #222}.Sidebar-module--sidebar--X4z2p{width:100%}.Sidebar-module--sidebar__inner--Jdc5s{position:relative;padding:1.5625rem 1.25rem 0}@media screen and (min-width:685px){.Sidebar-module--sidebar--X4z2p{width:calc(41.625% - 1.09375rem)}.Sidebar-module--sidebar--X4z2p:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Sidebar-module--sidebar--X4z2p:last-child{margin-right:0}.Sidebar-module--sidebar--X4z2p:nth-child(12n){margin-right:0;float:right}.Sidebar-module--sidebar--X4z2p:nth-child(12n+1){clear:both}.Sidebar-module--sidebar__inner--Jdc5s{padding:1.875rem 1.25rem 0}.Sidebar-module--sidebar__inner--Jdc5s:after{background:#e6e6e6;background:linear-gradient(180deg,#e6e6e6 0,#e6e6e6 48%,#fff);position:absolute;content:"";width:.0625rem;height:33.75rem;top:30px;right:-10px;bottom:0}}@media screen and (min-width:960px){.Sidebar-module--sidebar--X4z2p{width:calc(33.3% - 1.25rem)}.Sidebar-module--sidebar--X4z2p:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Sidebar-module--sidebar--X4z2p:last-child{margin-right:0}.Sidebar-module--sidebar--X4z2p:nth-child(3n){margin-right:0;float:right}.Sidebar-module--sidebar--X4z2p:nth-child(3n+1){clear:both}.Sidebar-module--sidebar__inner--Jdc5s{padding:2.5rem}}.Layout-module--layout--3Pyz6{max-width:66.875rem;margin-left:auto;margin-right:auto}.Layout-module--layout--3Pyz6:before{content:"";display:table}.Layout-module--layout--3Pyz6:after{content:"";display:table;clear:both}.Feed-module--feed__item--2D5rE{margin-bottom:2.03125rem}.Feed-module--feed__item--2D5rE:last-child{margin-bottom:.8125rem}.Feed-module--feed__item-title--3nigr{font-size:1.6875rem;line-height:2.4375rem;margin-top:0;margin-bottom:.8125rem}.Feed-module--feed__item-title-link--iFMRs{color:#222}.Feed-module--feed__item-title-link--iFMRs:focus,.Feed-module--feed__item-title-link--iFMRs:hover{color:#222;border-bottom:1px solid #222}.Feed-module--feed__item-description--1uO8e{font-size:1rem;line-height:1.625rem;margin-bottom:1.21875rem}.Feed-module--feed__item-meta-time--3t1fg{font-size:.875rem;color:#222;font-weight:600;text-transform:uppercase}.Feed-module--feed__item-meta-divider--N-Q0A{margin:0 .3125rem}.Feed-module--feed__item-meta-category-link--23f8F{font-size:.875rem;color:#f7a046;font-weight:600;text-transform:uppercase}.Feed-module--feed__item-meta-category-link--23f8F:focus,.Feed-module--feed__item-meta-category-link--23f8F:hover{color:#5d93ff}.Feed-module--feed__item-readmore--1u6bI{font-size:1rem;color:#5d93ff}.Feed-module--feed__item-readmore--1u6bI:focus,.Feed-module--feed__item-readmore--1u6bI:hover{color:#5d93ff;border-bottom:1px solid #5d93ff}.Page-module--page--2nMky{margin-bottom:3.25rem}.Page-module--page__inner--2M_vz{padding:1.5625rem 1.25rem}.Page-module--page__title--GPD8L{font-size:2.5rem;font-weight:600;line-height:3.25rem;margin-top:0;margin-bottom:2.35625rem}.Page-module--page__body--Ic6i6{font-size:1rem;line-height:1.625rem;margin:0 0 1.625rem}@media screen and (min-width:685px){.Page-module--page--2nMky{width:calc(58.275% - .78125rem)}.Page-module--page--2nMky:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Page-module--page--2nMky:last-child{margin-right:0}.Page-module--page--2nMky:nth-child(12n){margin-right:0;float:right}.Page-module--page--2nMky:nth-child(12n+1){clear:both}.Page-module--page__inner--2M_vz{padding:1.875rem 1.25rem}}@media screen and (min-width:960px){.Page-module--page--2nMky{width:calc(66.6% - .625rem)}.Page-module--page--2nMky:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Page-module--page--2nMky:last-child{margin-right:0}.Page-module--page--2nMky:nth-child(3n){margin-right:0;float:right}.Page-module--page--2nMky:nth-child(3n+1){clear:both}.Page-module--page__inner--2M_vz{padding:2.5rem 2.1875rem}}.Pagination-module--pagination--2H3nO{margin-top:3.25rem;display:flex}.Pagination-module--pagination__prev--bet5s{width:50%;text-align:left}.Pagination-module--pagination__prev-link--1Nzs6{color:#f7a046;font-size:1.625rem;font-weight:700}.Pagination-module--pagination__prev-link--1Nzs6:focus,.Pagination-module--pagination__prev-link--1Nzs6:hover{color:#5d93ff}.Pagination-module--pagination__prev-link--disable--Yklx9{pointer-events:none;color:#bbb}.Pagination-module--pagination__next--3hFiN{width:50%;text-align:right}.Pagination-module--pagination__next-link--3FUtA{color:#f7a046;font-size:1.625rem;font-weight:700}.Pagination-module--pagination__next-link--3FUtA:focus,.Pagination-module--pagination__next-link--3FUtA:hover{color:#5d93ff}.Pagination-module--pagination__next-link--disable--30UwZ{pointer-events:none;color:#bbb}.Author-module--author--2Yefr{border-top:1px solid #e6e6e6;max-width:40rem;padding-top:1.25rem;line-height:1.625rem;margin-top:1.625rem;margin-bottom:3.25rem}.Author-module--author__bio-twitter--n-O9n{display:block;text-decoration:underline}@media screen and (min-width:685px){.Author-module--author--2Yefr{margin-left:auto;margin-right:auto}}.Content-module--content--3p512{max-width:59.0625rem;padding:0 .9375rem;margin:0 auto}.Content-module--content__title--2BDW9{font-size:2rem;max-width:40rem;font-weight:600;text-align:center;line-height:2.68125rem;margin:1.625rem auto 0}.Content-module--content__body--2TrQ- figure{margin-bottom:1.625rem}.Content-module--content__body--2TrQ- figure blockquote{font-style:italic;text-align:center;margin-top:0;padding:1.625rem 0}.Content-module--content__body--2TrQ- figure blockquote p{max-width:40rem;font-size:1.6817rem;margin-top:0;margin-bottom:1.625rem;line-height:2.4375rem}.Content-module--content__body--2TrQ- a{text-decoration:underline}.Content-module--content__body--2TrQ- *{max-width:40rem;margin-left:auto;margin-right:auto}.Content-module--content__body--2TrQ- img{max-width:100%}@media screen and (min-width:960px){.Content-module--content--3p512{padding:0}.Content-module--content__title--2BDW9{font-size:3rem;line-height:3.65625rem;margin-top:3.65625rem;margin-bottom:2.4375rem}.Content-module--content__body--2TrQ-,.Content-module--content__body--2TrQ- p{font-size:1.125rem;line-height:1.82813rem;margin-bottom:1.82813rem}}.Meta-module--meta__date--29eD7{font-style:italic}.Tags-module--tags--1L_ct{margin-bottom:.8125rem}.Tags-module--tags__list--91FqN{list-style:none;margin:0 -.625rem;padding:0}.Tags-module--tags__list-item--1M30P{display:inline-block;margin:.625rem .3125rem}.Tags-module--tags__list-item-link--3SL_8{display:inline-block;height:2.1875rem;padding:0 1.5rem;line-height:2.1875rem;border:1px solid #e6e6e6;text-decoration:none;border-radius:1.25rem;color:#222}.Tags-module--tags__list-item-link--3SL_8:focus,.Tags-module--tags__list-item-link--3SL_8:hover{color:#5d93ff}.Post-module--post__comments--25y6I,.Post-module--post__footer--3WzWU{max-width:40rem;margin:0 auto;padding:0 .9375rem}.Post-module--post__home-button--16Kl0{display:block;max-width:5.625rem;height:2.1875rem;padding:0 1.5rem;line-height:2.1875rem;text-align:center;color:#222;border:1px solid #e6e6e6;border-radius:1.25rem;font-size:1rem;font-weight:400;margin-left:auto;margin-right:auto;margin-top:1.625rem}.Post-module--post__home-button--16Kl0:focus,.Post-module--post__home-button--16Kl0:hover{color:#5d93ff}@media screen and (min-width:960px){.Post-module--post__comments--25y6I,.Post-module--post__footer--3WzWU{padding:0}.Post-module--post__home-button--16Kl0{position:fixed;max-width:auto;margin:0;top:30px;left:30px}}</style><meta name="generator" content="Gatsby 2.30.1"/><link rel="alternate" type="application/rss+xml" title="Blog by Juliano Lima" href="/my-personal-blog/rss.xml"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-177351255-1"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-177351255-1', {"send_page_view":false});
      }
      </script><link rel="sitemap" type="application/xml" href="/my-personal-blog/sitemap.xml"/><link rel="icon" href="/my-personal-blog/favicon-32x32.png?v=cb389043c87f57136c33307ffa628536" type="image/png"/><link rel="manifest" href="/my-personal-blog/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#F7A046"/><link rel="apple-touch-icon" sizes="48x48" href="/my-personal-blog/icons/icon-48x48.png?v=cb389043c87f57136c33307ffa628536"/><link rel="apple-touch-icon" sizes="72x72" href="/my-personal-blog/icons/icon-72x72.png?v=cb389043c87f57136c33307ffa628536"/><link rel="apple-touch-icon" sizes="96x96" href="/my-personal-blog/icons/icon-96x96.png?v=cb389043c87f57136c33307ffa628536"/><link rel="apple-touch-icon" sizes="144x144" href="/my-personal-blog/icons/icon-144x144.png?v=cb389043c87f57136c33307ffa628536"/><link rel="apple-touch-icon" sizes="192x192" href="/my-personal-blog/icons/icon-192x192.png?v=cb389043c87f57136c33307ffa628536"/><link rel="apple-touch-icon" sizes="256x256" href="/my-personal-blog/icons/icon-256x256.png?v=cb389043c87f57136c33307ffa628536"/><link rel="apple-touch-icon" sizes="384x384" href="/my-personal-blog/icons/icon-384x384.png?v=cb389043c87f57136c33307ffa628536"/><link rel="apple-touch-icon" sizes="512x512" href="/my-personal-blog/icons/icon-512x512.png?v=cb389043c87f57136c33307ffa628536"/><title data-react-helmet="true">Blog by Juliano Lima</title><meta data-react-helmet="true" property="og:site_name" content="As estruturas de dados por trás do git - Blog by Juliano Lima"/><meta data-react-helmet="true" name="description" content="Como o Git salva nossos arquivos? Em quais estruturas de dados os nossos arquivos são persistidos? Vamos entender melhor como o Git dispõe seus dados explorando as estruturas de dados existentes por baixo do capô"/><meta data-react-helmet="true" name="image" content="https://julianogtz.github.io/my-personal-blog//media/git-database-flow.png"/><meta data-react-helmet="true" property="og:url" content="https://julianogtz.github.io/my-personal-blog//my-personal-blog/posts/as-estruturas-de-dados-por-tras-do-git"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Blog by Juliano Lima"/><meta data-react-helmet="true" property="og:description" content="Como o Git salva nossos arquivos? Em quais estruturas de dados os nossos arquivos são persistidos? Vamos entender melhor como o Git dispõe seus dados explorando as estruturas de dados existentes por baixo do capô"/><meta data-react-helmet="true" property="og:image" content="https://julianogtz.github.io/my-personal-blog//media/git-database-flow.png"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="julianodgtz"/><meta data-react-helmet="true" name="twitter:title" content="Blog by Juliano Lima"/><meta data-react-helmet="true" name="twitter:description" content="Como o Git salva nossos arquivos? Em quais estruturas de dados os nossos arquivos são persistidos? Vamos entender melhor como o Git dispõe seus dados explorando as estruturas de dados existentes por baixo do capô"/><meta data-react-helmet="true" name="twitter:image" content="https://julianogtz.github.io/my-personal-blog//media/git-database-flow.png"/><link as="script" rel="preload" href="/my-personal-blog/webpack-runtime-efd0731a29a0f8389119.js"/><link as="script" rel="preload" href="/my-personal-blog/framework-e31797ba1674590871c3.js"/><link as="script" rel="preload" href="/my-personal-blog/app-0c68dc2dd608d2aa2a85.js"/><link as="script" rel="preload" href="/my-personal-blog/styles-407fe62976dc5310c43e.js"/><link as="script" rel="preload" href="/my-personal-blog/commons-07408f3b3ddd554c2a19.js"/><link as="script" rel="preload" href="/my-personal-blog/component---src-templates-post-template-jsx-0ccab16a39a80c2425cf.js"/><link as="fetch" rel="preload" href="/my-personal-blog/page-data/posts/as-estruturas-de-dados-por-tras-do-git/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/my-personal-blog/page-data/sq/d/251939775.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/my-personal-blog/page-data/sq/d/3942705351.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/my-personal-blog/page-data/sq/d/401334301.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/my-personal-blog/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="Layout-module--layout--3Pyz6" data-testid="layout-image"><div data-testid="post-page"><a class="Post-module--post__home-button--16Kl0" data-testid="post-header" href="/my-personal-blog/">All Articles</a><div data-testid="post-content-container"><div class="Content-module--content--3p512" data-testid="post-content"><h1 class="Content-module--content__title--2BDW9" data-testid="post-content-title">As estruturas de dados por trás do git</h1><div class="Content-module--content__body--2TrQ-" data-testid="post-content-body"><p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/my-personal-blog/static/ef7bc30d35466f4037e9fd821d6e7efe/5a190/git-database-flow.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 74.16666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEOElEQVQ4y01Ua1CUZRQ+y01W9iIXkZKLgiVGNelM5YyWTdPkNBbGmFnjoAUMYVDolDmaArHcFPbKLnv/dlkWFgz8oY0NoTkCFmy7KwjILg58u0t75WKM2Q8nfDvfNl1+PHO+2/vMOc9zng8cXRngMKeCTQsRWCkAKCYQpfgWdunNsEGqAahtAcnYFMzMuN5203On9Copu+7cSbbkgoAtaqr5P+IBCQuRsNSmgxJEGRK+D5UE2Iqe5N1UZ+lGmaY4SawqT2sU5RHy52ZfILBnePBGTGlhAUshbooSNVYjaqJaGqoACdcy3RGHZTNxmJOJoyudWI3xhKghaauI+niTXEueUxlJmlRDMqUqEVlZfG/W4xFMT03k8gFiei3tvE6jmmMxaTnq1ha2sLGaBzYKztiNMbVWI7/ebuLVWw0xx4kFojcK9dmJojZBVquuZp1IKTjc3Xdg0T13wuP11IRCwV3hsA8CARoIWUWQCGTNdevBrkfdDFx8AHDnYg6MGtcCQS2zm3UQfV4G6ajhW529zAEu7Z47+Ou8p3Bi/PbLHo9zh5uePnT/fqDgwYOFg1g3fFlRwofxvhfB2r0TsktI3IQRYJSKBTIEkKW+BPnmi/C8uh1YTTL4uv8aBD003J2ajHSDZHdcznFC09PE758ji4u+CrQzGhydaacd5vW1t7RcqY1iNf5CsY4z3WYpuzN26joEOQr9N+xmRe2nl78/tOClBTiy4t6M651Q0H1kacmnQTJxOORV4vWO/W+8koCET5LbPdvQlBQ0ZxOxtnMIUULyMyKqmDFlu8ZEnkBTclq1UuzsWdrvz199TFKKDx+BlZVwEj7jMzBopSBsqEoCmx6OIspG9PGfoUHlVor1AXAIxAsNqTxhWxmuzCeJIlX5dhX1QoiePeb1epp/Gh7K8XpcvRPjVuJxO38P+Gni9c6U48jxYFOhbgjyG8CYgdEwOmIQXMCbejHguJAsVsNWiRIeLYZgcupuRMNg0K3FcUN+36wTCX1YP8RTLJjsL4LR776A0q9ucOeu5sGIMQkeyQF2t3ZCY/91KOu7AikSNbyEqSHTYzBkHYWrVy7BrcEfoLKsBHp7OmB4cABsozdBKT3PBoclW44LrRuheBZ7e0I77mETMUD0FplpG0aPylUa1ClilTlbrnsTO4u76bCn/jhwLfaeazx/zPFzdTjsPYmGnMW1eTrisr0jkaDTxMHUrkwmKat/J0V/NLNVS3BtSKpETV4z9ZjI8sI597zX5HJO75v3zlhnZ6eI2+2MrM3ysr+CkQIwv3sR76Ix+VgLMMuvw2l8Ie7g8ISK/XEtbfueEsk/elUsy9tSVMTox7o+cBkePlzag11VLizMlzJkq4//yIh0iCT/4Z+/zedIKLEAX9gGHDRljVgDwapja85Wn+IKzpxIkLXUcfGrfyPHIDc9OVYubuD/BVXRc0wXWTb5AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/my-personal-blog/static/ef7bc30d35466f4037e9fd821d6e7efe/8ac56/git-database-flow.webp 240w,
/my-personal-blog/static/ef7bc30d35466f4037e9fd821d6e7efe/d3be9/git-database-flow.webp 480w,
/my-personal-blog/static/ef7bc30d35466f4037e9fd821d6e7efe/d00b9/git-database-flow.webp 800w"
              sizes="(max-width: 800px) 100vw, 800px"
              type="image/webp"
            />
          <source
            srcset="/my-personal-blog/static/ef7bc30d35466f4037e9fd821d6e7efe/8ff5a/git-database-flow.png 240w,
/my-personal-blog/static/ef7bc30d35466f4037e9fd821d6e7efe/e85cb/git-database-flow.png 480w,
/my-personal-blog/static/ef7bc30d35466f4037e9fd821d6e7efe/5a190/git-database-flow.png 800w"
            sizes="(max-width: 800px) 100vw, 800px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/my-personal-blog/static/ef7bc30d35466f4037e9fd821d6e7efe/5a190/git-database-flow.png"
            alt="Fluxo do Git. - Fonte: Documentação do Git"
            title="Fluxo do Git. - Fonte: Documentação do Git"
            loading="lazy"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span>
<em>Fonte: <a href="https://git-scm.com/book/en/v2/Git-Internals-Git-Objects" target="_blank" rel="nofollow noopener noreferrer">Documentação do Git</a></em></p>
<p>Você já se perguntou como o Git persiste nossos arquivos? Como ele consegue lidar com tantos arquivos de forma distribuída? Embora seja praticamente invisível essa persistência possui muitas particularidades interessantes pra quem gosta de <strong>estrutura de dados</strong>.</p>
<p>Vamos entender como funciona?</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/i/4k5ferlxtghuylh63qrk.gif" alt="Alt Text"></p>
<figure>
	<blockquote>
		<p>Se quiser seguir a leitura interativamente executando os mesmos comandos que utilizei ao longo do post basta clonar o repositório abaixo em um terminal que tenha Git instalado</p>
	</blockquote>
</figure>
<p><code class="language-text">git clone https://github.com/JulianoGTZ/how-git-works.git</code></p>
<h3 id="estruturas-associativas" style="position:relative;"><a href="#estruturas-associativas" aria-label="estruturas associativas permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Estruturas associativas</h3>
<p>Segunda a própria documentação o Git é um “content-addressable filesystem”, o que na prática se traduz em um clássica estrutura associativa de chave e valor.</p>
<p>Na ciência da computação existem muitas estruturas associativas como: arrays associativos, mapas, tabela de símbolos ou dicionários. Conceitualmente estamos falando de uma estrutura de dados abstrata composta de pares de chave e valor, onde uma determinada chave referencia um valor pelo menos uma vez. </p>
<p>Embora a matemática seja parte integrante da computação, o termo <strong>associação não tem nada a ver com a propriedade de associação da matemática ou de lógica propositiva</strong>.</p>
<p>Metaforicamente é como se o Git conseguisse buscar um elemento na sua base de dados similar a forma que buscamos o significado de uma palavra em um dicionário. </p>
<p><strong>Mas o que git associa? por que termos ele busca?</strong> </p>
<h3 id="hashes-everywhere" style="position:relative;"><a href="#hashes-everywhere" aria-label="hashes everywhere permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Hashes everywhere</h3>
<p>O git se guia por hashes. Podemos ver isso ao executar um <strong>git-log</strong> e ver vários deles atribuídos a commits.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 906px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/my-personal-blog/static/77f71568062d8e75f39b050dfccc31ab/a20ae/hashes-everywhere.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 129.99999999999997%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAaABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAIBAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAv/aAAwDAQACEAMQAAAB82KiksHfmkwH/8QAGBAAAgMAAAAAAAAAAAAAAAAAAhAAASD/2gAIAQEAAQUChO2Wf//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABcQAQEBAQAAAAAAAAAAAAAAAEEAECD/2gAIAQEABj8CZwjHr//EAB0QAAEEAgMAAAAAAAAAAAAAABEAARAhQYGR0eH/2gAIAQEAAT8hsIXqKCDjhFjottsId3DXP//aAAwDAQACAAMAAAAQhOR+/8QAGBEAAgMAAAAAAAAAAAAAAAAAARARITH/2gAIAQMBAT8QOKaX/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8QIf/EAB0QAQACAgMBAQAAAAAAAAAAAAEAERAhMYGRYbH/2gAIAQEAAT8QNNeUiCC9kteWcF+1mz9K4NNPQstZbiCII7lrtVfuP//Z'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/my-personal-blog/static/77f71568062d8e75f39b050dfccc31ab/8ac56/hashes-everywhere.webp 240w,
/my-personal-blog/static/77f71568062d8e75f39b050dfccc31ab/d3be9/hashes-everywhere.webp 480w,
/my-personal-blog/static/77f71568062d8e75f39b050dfccc31ab/45005/hashes-everywhere.webp 906w"
              sizes="(max-width: 906px) 100vw, 906px"
              type="image/webp"
            />
          <source
            srcset="/my-personal-blog/static/77f71568062d8e75f39b050dfccc31ab/09b79/hashes-everywhere.jpg 240w,
/my-personal-blog/static/77f71568062d8e75f39b050dfccc31ab/7cc5e/hashes-everywhere.jpg 480w,
/my-personal-blog/static/77f71568062d8e75f39b050dfccc31ab/a20ae/hashes-everywhere.jpg 906w"
            sizes="(max-width: 906px) 100vw, 906px"
            type="image/jpeg"
          />
          <img
            class="gatsby-resp-image-image"
            src="/my-personal-blog/static/77f71568062d8e75f39b050dfccc31ab/a20ae/hashes-everywhere.jpg"
            alt="Figura do Git Log com muitos commits"
            title="Figura do Git Log com muitos commits"
            loading="lazy"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p><strong>Conceituando</strong>: Um hash é uma string de comprimento fixo calculado por algum algoritmo especialista nisso(como MD5, SHA1) onde o objetivo é ter um resultado único respectivo aos parâmetros de entrada.</p>
<p>No caso do git essas chaves podem ser geradas a partir de qualquer sequência de bytes oriundo de qualquer tipo de arquivo. Para cada uma dessas sequências é calculada uma chave do tipo <a href="https://en.wikipedia.org/wiki/SHA-1" target="_blank" rel="nofollow noopener noreferrer">SHA1</a>. </p>
<p>A gente pode brincar com esse algoritmo de geração de chaves. Basta executar em um terminal o seguinte comando:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token builtin class-name">echo</span> <span class="token string">"Artigo da hora"</span> <span class="token operator">|</span> <span class="token function">git</span> hash-object --stdin

$ 43946addf6c6218daaacf8ed7e05af17724262dc</code></pre></div>
<p>E o resultado é sempre o mesmo:</p>
<p><code class="language-text">43946addf6c6218daaacf8ed7e05af17724262dc</code></p>
<blockquote>
<p>Precisei utilizar o <em>echo</em>, <em>stdin</em> e o <em>|</em> porque estamos somente utilizando o algoritmo, mas não operando sobre uma sequência de bytes já conhecida pelo git, como um arquivo commitado. Dessa forma estamos enviando uma stream de bytes para o git <strong>hash-object</strong> criptografar</p>
</blockquote>
<p>O resultado da função é determínistico, ou seja, dado o mesmo input a função retorna sempre o mesmo resultado. Esse é um dos mecanismo que ajuda a garantir que cada mudança no seu repositório mapeada pelo git seja respectiva ao que de fato foi alterado.</p>
<h2 id="commits" style="position:relative;"><a href="#commits" aria-label="commits permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Commits</h2>
<p>Para falarmos sobre a próxima estrutura de dados vamos precisar entender um pouco mais sobre a estrutura dos commits: </p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 900px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/my-personal-blog/static/e768da5e60c08e47e7dded3745f15356/1cfc2/commit-update-readme.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 15%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAsklEQVQI11XKyw7BUBSF4T4FabUlqYjSo7eTtBynqMYtEiNz74CJePdflQGDL2vtnWUs1YazLLirkltRcddrrvOSq654rHc8q33zexQlF5ER6wNDoRFqgR/kTAdTipFC1/rdBCORezwvJworJqIkGK+QctfI8iMzdcIfanquxDZDrJZostOefG4rwrRCzLo7nQij5ySk6YYgWJLKLX0vw64Hjh01g1+uHeM68X/Wul/v/gJ9/18QQgrsXwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/my-personal-blog/static/e768da5e60c08e47e7dded3745f15356/8ac56/commit-update-readme.webp 240w,
/my-personal-blog/static/e768da5e60c08e47e7dded3745f15356/d3be9/commit-update-readme.webp 480w,
/my-personal-blog/static/e768da5e60c08e47e7dded3745f15356/131f1/commit-update-readme.webp 900w"
              sizes="(max-width: 900px) 100vw, 900px"
              type="image/webp"
            />
          <source
            srcset="/my-personal-blog/static/e768da5e60c08e47e7dded3745f15356/8ff5a/commit-update-readme.png 240w,
/my-personal-blog/static/e768da5e60c08e47e7dded3745f15356/e85cb/commit-update-readme.png 480w,
/my-personal-blog/static/e768da5e60c08e47e7dded3745f15356/1cfc2/commit-update-readme.png 900w"
            sizes="(max-width: 900px) 100vw, 900px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/my-personal-blog/static/e768da5e60c08e47e7dded3745f15356/1cfc2/commit-update-readme.png"
            alt="Commit de atualização do readme"
            title="Commit de atualização do readme"
            loading="lazy"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p>Com o hash de um commit em mãos podemos utilizar uma função para ler o seu conteúdo: a função <strong>cat-file</strong>. Basta utiliza-lá passando <strong>-p</strong>(print) e o hash que observamos como parâmetros: </p>
<p><code class="language-text">git cat-file -p 679b79c84959ea166b1fe91b048643a0dd8bd0b2</code></p>
<p>Executando o comando vemos as seguintes informações:</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 698px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/my-personal-blog/static/f1f866e4aa6e3430ba2d567d4297e9f4/487bb/git-commit-update-readme-detailed.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 21.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAzklEQVQY012P2Q6CQAxF+Q1F4pMaGQOIG6AOyI6giVvcX/z/f7jOVBOXh6btaW/aqzjeCsNxAX+xQ5ydEedn8GALLvogOsAP94iyE7EZ3yBMjjQzzQhqzUCjZqJR/4SSV3exvIPjVkjyC4moF4dkzsob8WrzwEIckExGWlwRhK9ePiSPt1ouFKsfw7QidLtzdNoe+nYCpnNiuszik5EQjCdLeLM1ej0fhhGCMY6JUxK3Bykxd7qCIpcZ80ksB03NhqZav/G288/J5rdlUT8BqsaEKMXCiwsAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/my-personal-blog/static/f1f866e4aa6e3430ba2d567d4297e9f4/8ac56/git-commit-update-readme-detailed.webp 240w,
/my-personal-blog/static/f1f866e4aa6e3430ba2d567d4297e9f4/d3be9/git-commit-update-readme-detailed.webp 480w,
/my-personal-blog/static/f1f866e4aa6e3430ba2d567d4297e9f4/d1b7f/git-commit-update-readme-detailed.webp 698w"
              sizes="(max-width: 698px) 100vw, 698px"
              type="image/webp"
            />
          <source
            srcset="/my-personal-blog/static/f1f866e4aa6e3430ba2d567d4297e9f4/8ff5a/git-commit-update-readme-detailed.png 240w,
/my-personal-blog/static/f1f866e4aa6e3430ba2d567d4297e9f4/e85cb/git-commit-update-readme-detailed.png 480w,
/my-personal-blog/static/f1f866e4aa6e3430ba2d567d4297e9f4/487bb/git-commit-update-readme-detailed.png 698w"
            sizes="(max-width: 698px) 100vw, 698px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/my-personal-blog/static/f1f866e4aa6e3430ba2d567d4297e9f4/487bb/git-commit-update-readme-detailed.png"
            alt="Detalhes do commit de atualização do readme"
            title="Detalhes do commit de atualização do readme"
            loading="lazy"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<ul>
<li><strong>tree</strong>: O hash respectivo à estrutura de diretórios e arquivos do repositório(<em>Mais detalhes abaixo</em>)</li>
<li><strong>parent</strong>: O hash do commit anterior à esse commit.</li>
<li><strong>author</strong>: O autor do commit(Nesse caso, <strong>sou eu</strong>) e algumas informações de timestamp.</li>
<li><strong>commiter</strong>: O commiter é quem de fato fez o merge de um commit específico. Exemplificando: se você fizer um pull-request para um projeto e um dos membros principais mergeá-lo, vocês dois receberão crédito - você como autor e o membro principal como committer. Também temos informações de timestamp aqui.</li>
<li><strong>Update Readme</strong>: A mensagem do commit</li>
</ul>
<p>Podemos conceituar que o commit é um <code class="language-text">snapshot</code> da atual configuração de todos os arquivos indexados do repositório. Quando digo indexado é tudo que está versionado previamente ou o que passou a ser versionado após o commit.</p>
<p>Esse retrato fiel do repositório está no atributo <code class="language-text">tree</code> do commit. E o que é <code class="language-text">tree</code>?</p>
<h3 id="tree" style="position:relative;"><a href="#tree" aria-label="tree permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tree</h3>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 719px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/my-personal-blog/static/a5c417e304a162b076d0de5db4adf49d/073e9/tree-highlighted-in-commit-update-readme.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 20.416666666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7ElEQVQY002PTW+CQBRF+ReNorE7q4KltaBIlKFBRNAo1tjSDxfd1Da24f9vTmewJF3c3PfOnZfM1Rx3yWyccox2FJsDRXbgK3nkM95zSnO+V88U6zeO8x2nZc6P1IfMzCuP2oVBo9anUb9Gl96UroXznImf4bops+gJX87+3y6CLfHihSR9ZZ29IyQXYksQPBBJHoR7RuMV3nTDUH6s1bxFM80AywrpdCa02x7WzXlWvNfzMfv3DOwYe5jgjNIyM2RmmAJHsjuZGYbAdhZ0u1M0BdWxeqjCy9agrNDUrbPqVrlXqnhVU/9XWfkvYCCGLmBBPdcAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/my-personal-blog/static/a5c417e304a162b076d0de5db4adf49d/8ac56/tree-highlighted-in-commit-update-readme.webp 240w,
/my-personal-blog/static/a5c417e304a162b076d0de5db4adf49d/d3be9/tree-highlighted-in-commit-update-readme.webp 480w,
/my-personal-blog/static/a5c417e304a162b076d0de5db4adf49d/05ca6/tree-highlighted-in-commit-update-readme.webp 719w"
              sizes="(max-width: 719px) 100vw, 719px"
              type="image/webp"
            />
          <source
            srcset="/my-personal-blog/static/a5c417e304a162b076d0de5db4adf49d/8ff5a/tree-highlighted-in-commit-update-readme.png 240w,
/my-personal-blog/static/a5c417e304a162b076d0de5db4adf49d/e85cb/tree-highlighted-in-commit-update-readme.png 480w,
/my-personal-blog/static/a5c417e304a162b076d0de5db4adf49d/073e9/tree-highlighted-in-commit-update-readme.png 719w"
            sizes="(max-width: 719px) 100vw, 719px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/my-personal-blog/static/a5c417e304a162b076d0de5db4adf49d/073e9/tree-highlighted-in-commit-update-readme.png"
            alt="Atributo tree destacado nos detalhes do commit"
            title="Atributo tree destacado nos detalhes do commit"
            loading="lazy"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p>Não muito longe da tradução, se trata de uma árvore de referências. Computacionalmente estamos falando de uma estrutura de dados com diferentes ligações entre nós de informações, mas que diferente de uma estrutura linear como um array ou uma lista temos profundidade na navegabilidade. </p>
<p>Agora que já sabemos como ver a informação dentre um hash do Git, basta executarmos o seguinte comando:</p>
<p><code class="language-text">git cat-file -p 59d80c6ce2b65acdb308058b2b0c97a4358df8f6</code></p>
<p>E temos como resultado:</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 724px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/my-personal-blog/static/4b4571f9c0328e357b2ff866773ac733/a242d/commit-tree-content.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 6.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAASElEQVQI12Nwdov47+ga9j/SOvC/r3XAf2uHoP82dgH/be0D/zs4h/63cwgGs+2dQv47uoSB2TA+SJ28nPF/W6AeEF9Hx+E/AKz4I9ap6wX0AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/my-personal-blog/static/4b4571f9c0328e357b2ff866773ac733/8ac56/commit-tree-content.webp 240w,
/my-personal-blog/static/4b4571f9c0328e357b2ff866773ac733/d3be9/commit-tree-content.webp 480w,
/my-personal-blog/static/4b4571f9c0328e357b2ff866773ac733/79561/commit-tree-content.webp 724w"
              sizes="(max-width: 724px) 100vw, 724px"
              type="image/webp"
            />
          <source
            srcset="/my-personal-blog/static/4b4571f9c0328e357b2ff866773ac733/8ff5a/commit-tree-content.png 240w,
/my-personal-blog/static/4b4571f9c0328e357b2ff866773ac733/e85cb/commit-tree-content.png 480w,
/my-personal-blog/static/4b4571f9c0328e357b2ff866773ac733/a242d/commit-tree-content.png 724w"
            sizes="(max-width: 724px) 100vw, 724px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/my-personal-blog/static/4b4571f9c0328e357b2ff866773ac733/a242d/commit-tree-content.png"
            alt="Resultado do comando executado acima"
            title="Resultado do comando executado acima"
            loading="lazy"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p>O resultado embora aparentemente não diga muita coisa está representando exatamente a estrutura do repositório que eu estou explorando como exemplo:</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 913px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/my-personal-blog/static/85afa3e257b2adde6ffcdc957d2cdedd/93c35/image-repository.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 81.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDAQX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHtPKhowf/EABoQAQEAAgMAAAAAAAAAAAAAAAIAARESITH/2gAIAQEAAQUC6N7akMKB4m//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAYEAACAwAAAAAAAAAAAAAAAAAQIQABEf/aAAgBAQAGPwJlzKH/xAAZEAEAAwEBAAAAAAAAAAAAAAABABEhEDH/2gAIAQEAAT8hX2BeEKFmkrMIXAPIOf/aAAwDAQACAAMAAAAQwN//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxCq/8QAFREBAQAAAAAAAAAAAAAAAAAAECH/2gAIAQIBAT8Qp//EABwQAQACAgMBAAAAAAAAAAAAAAEAESExUWHhkf/aAAgBAQABPxAALlkrLXkJUOSos+S9eFvbuWjjoHL9Yds//9k='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/my-personal-blog/static/85afa3e257b2adde6ffcdc957d2cdedd/8ac56/image-repository.webp 240w,
/my-personal-blog/static/85afa3e257b2adde6ffcdc957d2cdedd/d3be9/image-repository.webp 480w,
/my-personal-blog/static/85afa3e257b2adde6ffcdc957d2cdedd/5ffe7/image-repository.webp 913w"
              sizes="(max-width: 913px) 100vw, 913px"
              type="image/webp"
            />
          <source
            srcset="/my-personal-blog/static/85afa3e257b2adde6ffcdc957d2cdedd/09b79/image-repository.jpg 240w,
/my-personal-blog/static/85afa3e257b2adde6ffcdc957d2cdedd/7cc5e/image-repository.jpg 480w,
/my-personal-blog/static/85afa3e257b2adde6ffcdc957d2cdedd/93c35/image-repository.jpg 913w"
            sizes="(max-width: 913px) 100vw, 913px"
            type="image/jpeg"
          />
          <img
            class="gatsby-resp-image-image"
            src="/my-personal-blog/static/85afa3e257b2adde6ffcdc957d2cdedd/93c35/image-repository.jpg"
            alt="Repositório"
            title="Repositório"
            loading="lazy"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p>A árvore de versionamento tem dois possíveis tipos de valores armazenados:</p>
<ul>
<li><strong>Blob</strong>: é qualquer arquivo binário do repositório. No caso do exemplo que usei acima é o <strong>README.md</strong></li>
<li><strong>Tree</strong>: Um diretório. Na prática é uma árvore que pode ter várias sub-pastas e arquivos dentro.</li>
</ul>
<p>A figura abaixo representa exatamente a estrutura de pastas e arquivos do repositório.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/my-personal-blog/static/a211672f7153d7e8d404aba9d62ce869/e5ca1/how-git-works-tree.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 76.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACCklEQVQ4y41TPW8TQRC9f0UDEn8DGiQkCkRNQWOBRI0oiBQaCgRCaWkjIVCSwgTHJJYI+Tj7fN/ft3u7aycW6HGzp7VCdAYXTze3O/v2zcxbi3MOxhlm8gKn3iE2vt3HxsE9bH59iDSPIYQE5RDquv4vrDaZCOc490fYHD7Ay/5dvN5/hLxMl4SUvA6pZRKFEMjSHD9/nMF1fARejCzPGvWVBl26DqllyMqyhOu6CMMAUgqkWQrPCSDKOS7VbygxW08hYwy+78O2bTiOg6Io9IbgEl9OtvBu0MOH4TMcOjuYy0vd738SVlWF8XiMIAg0PM+DaBTWlcSb/cfo7d3Ek883sH38FosZULFyOSRe8+6SkyRZgkpvNwXc+Bwn/hAjuw8/dnRr2n6uHpIeCiUamESCkjNcqAVUPYc7DlEkrOnnL4haruyntZR/BXqT17pfNN2yKvDx6BXeH/Sw9f25tpdqbMY7+mmtaq4hJ9VFmePF3h30dm/h6c5tDOxPzYAWuvzrpVvXSa6SGTDGcTodYXC8i6OzfuPPBEqpv3JNbHUpo6+UEuSA6XSqJ18VDO7ERxS0wwvDsBlgpfOoCnOuUyERmUNRFOl1MrrrNcaP2rXJZKLtRnGWZd0KaYFuNJ4kkMI4jrVKuoBiIqNXRTERUkwPpFMhyU/TVL8eIqRk8iaR0b/5mn0CkRqOPxT7XIHCL03uAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/my-personal-blog/static/a211672f7153d7e8d404aba9d62ce869/8ac56/how-git-works-tree.webp 240w,
/my-personal-blog/static/a211672f7153d7e8d404aba9d62ce869/d3be9/how-git-works-tree.webp 480w,
/my-personal-blog/static/a211672f7153d7e8d404aba9d62ce869/e46b2/how-git-works-tree.webp 960w,
/my-personal-blog/static/a211672f7153d7e8d404aba9d62ce869/abf82/how-git-works-tree.webp 1332w"
              sizes="(max-width: 960px) 100vw, 960px"
              type="image/webp"
            />
          <source
            srcset="/my-personal-blog/static/a211672f7153d7e8d404aba9d62ce869/8ff5a/how-git-works-tree.png 240w,
/my-personal-blog/static/a211672f7153d7e8d404aba9d62ce869/e85cb/how-git-works-tree.png 480w,
/my-personal-blog/static/a211672f7153d7e8d404aba9d62ce869/d9199/how-git-works-tree.png 960w,
/my-personal-blog/static/a211672f7153d7e8d404aba9d62ce869/e5ca1/how-git-works-tree.png 1332w"
            sizes="(max-width: 960px) 100vw, 960px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/my-personal-blog/static/a211672f7153d7e8d404aba9d62ce869/d9199/how-git-works-tree.png"
            alt="Alt Text"
            title="Alt Text"
            loading="lazy"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p>Podemos observar que o <strong>nó-folha</strong> (o nó na extremidade da árvore) sempre será um Blob. Na prática isso quer dizer que o Git não versiona pastas vazias. A <strong>tree</strong> só vai existir se existir alguma referência para um arquivo dentro dessa pasta.</p>
<figure>
	<blockquote>
		<p>Os commits são essencialmente referências para novas árvores. Sempre que alteramos algum arquivo, adicionamos um arquivo diferente ou renomeamos uma pasta também estamos reorganizando essa árvore de referências.</p>
	</blockquote>
</figure>
<p><img src="https://git-scm.com/book/en/v2/images/data-model-3.png" alt="Documentação do Git"></p>
<p>Conforme é mostrado na figura apresentada no início do artigo, estamos sempre gerando novas árvores a cada commit. Como estamos trabalhando em um sistema que utiliza funções determinísticas onde qualquer mínima alteração já torna a estrutura diferente, sempre estamos recriando novas ramificações dentre as múltiplas possíveis versões do nossos arquivos. Fez mais sentido agora o nome <strong>branch</strong>, não?</p>
<p>É interessante saber também que o git possui um sistema de <strong>garbage-collector</strong>. O objetivo é remover arquivos desnecessários de branches antigos que já não fazem mais sentido no repositório. Mas como o Git avalia isso? </p>
<p>Como é uma estrutura de árvore, ao executar o comando <code class="language-text">git gc --prune</code> por exemplo, o git varre as árvores de versionamento e encontra branches que não tem relação mais com nenhum galho dessa árvore, ou que já está diluido na mesma devido a um merge.</p>
<h2 id="um-pouco-de-imutabilidade" style="position:relative;"><a href="#um-pouco-de-imutabilidade" aria-label="um pouco de imutabilidade permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Um pouco de imutabilidade</h2>
<p>Se você já viu algum conteúdo sobre programação funcional já deve ter lido a palavra <strong>imutabilidade</strong>. A princípio quem trabalha com linguagens que não suportam nativamente isso acha o conceito um pouco estranho. <em>Se eu programo abstrações como classes, interfaces e funções genéricas porque seria interessante não ter variáveis?</em></p>
<p><img src="https://media.giphy.com/media/XEo7YJHUeplXa/giphy.gif" alt="cena famosa que um guarda pede calma"></p>
<p>Calma, não é exatamente disso que imutabilidade trata. Na verdade, o conceito de imutabilidade é sobre deixar acessível um determinado valor mesmo que a sua referência direta tenha mudado. E sobre deixar um valor específico ainda acessível para computações que precisem enxergar aquele valor futuramente.</p>
<p>Na prática isso quer dizer o quê? </p>
<p>Os comandos que existem para alteração de commits como <strong>git rebase</strong> ou <strong>git ammend</strong> reescrevem commits, e não os altera diretamente. Ao reescrever um novo commit estamos definindo novos atributos como: timestamp, novo autor ou novas alterações nos <strong>blobs</strong> e por consequências nas <strong>trees</strong>.</p>
<p>Não estamos fazendo uma alteração clássica de valor de uma variável como na programação, mas sim reescrevendo uma nova referência e preservando a antiga. Se essa estrutura não fosse imutável a cada vez que fizessemos um rebase mudaríamos também todas as referências de todos os outros branches no repositório que conhecem aqueles mesmos arquivos.</p>
<p><strong>Thanks Imutabilidade</strong></p>
<h2 id="para-saber-mais" style="position:relative;"><a href="#para-saber-mais" aria-label="para saber mais permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Para saber mais</h2>
<p>Tem bem mais conteúdo sobre como funciona o git internamente como: Branchs, Tags, Merge vs Rebase, as três áreas do Git, Fast-Foward, HEAD..Prometo trazer isso em futuros artigos.</p>
<p>Deixo algumas recomendações de conteúdo caso você queira entender mais a fundo as referências de estudo que existem nesse artigo:</p>
<ul>
<li><a href="https://git-scm.com/book/en/v2" target="_blank" rel="nofollow noopener noreferrer">O livro Git PRO - Gratuito online</a></li>
<li><a href="https://www.youtube.com/watch?v=6Czd1Yetaac&#x26;t=10s" target="_blank" rel="nofollow noopener noreferrer">Vídeo do Fabio Akita - Entendendo GIT | (não é um tutorial!)</a></li>
<li><a href="https://www.youtube.com/watch?v=nHkLxts9Mu4" target="_blank" rel="nofollow noopener noreferrer">Vídeo do Paolo Perrota explicando como o Git funciona</a></li>
<li><a href="https://www.pluralsight.com/courses/how-git-works" target="_blank" rel="nofollow noopener noreferrer">Curso How Git Works - Pluralsight</a></li>
</ul>
<p><em>See you later o/</em></p></div></div></div><div class="Post-module--post__footer--3WzWU" data-testid="post-footer"><div><p class="Meta-module--meta__date--29eD7" data-testid="publish-meta">Published<!-- --> <!-- -->2 Nov 2020</p></div><div class="Tags-module--tags--1L_ct" data-testid="tags-container"><ul class="Tags-module--tags__list--91FqN" data-testid="tags-link-list"><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" data-testid="tag-link-0" href="/my-personal-blog/tag/git/">Git</a></li><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" data-testid="tag-link-1" href="/my-personal-blog/tag/estruturas-de-dados/">Estruturas de dados</a></li><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" data-testid="tag-link-2" href="/my-personal-blog/tag/deep-dive/">Deep Dive</a></li></ul></div><div class="Author-module--author--2Yefr"><p data-testid="author-bio-paragraph">Software Engineer, Computer Scientist, Cartoons Analyst, and Amateur Football Commentator.<a class="Author-module--author__bio-twitter--n-O9n" href="https://www.twitter.com/julianodgtz" rel="noopener noreferrer" target="_blank" data-testid="author-bio-twitter"><strong>Juliano Lima</strong> <!-- --> <!-- -->on Twitter</a></p></div></div><div class="Post-module--post__comments--25y6I" data-testid="post-comments"><div data-testid="post-comment"><div id="disqus_thread"></div></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/as-estruturas-de-dados-por-tras-do-git";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-9524f89a0a3261402e06.js"],"app":["/app-0c68dc2dd608d2aa2a85.js"],"component---src-templates-categories-list-template-jsx":["/component---src-templates-categories-list-template-jsx-5f40000acb2c3064fa11.js"],"component---src-templates-category-template-jsx":["/component---src-templates-category-template-jsx-f3638028ab241e827469.js"],"component---src-templates-index-template-jsx":["/component---src-templates-index-template-jsx-5a1b01e2afd37f9615d4.js"],"component---src-templates-not-found-template-jsx":["/component---src-templates-not-found-template-jsx-323dfca0a48a605e1052.js"],"component---src-templates-page-template-jsx":["/component---src-templates-page-template-jsx-2d5a102beff3d029fa1a.js"],"component---src-templates-post-template-jsx":["/component---src-templates-post-template-jsx-0ccab16a39a80c2425cf.js"],"component---src-templates-tag-template-jsx":["/component---src-templates-tag-template-jsx-5f5274d902a49d065e7c.js"],"component---src-templates-tags-list-template-jsx":["/component---src-templates-tags-list-template-jsx-4bff710f7d4c5b826c7a.js"]};/*]]>*/</script><script src="/my-personal-blog/polyfill-9524f89a0a3261402e06.js" nomodule=""></script><script src="/my-personal-blog/component---src-templates-post-template-jsx-0ccab16a39a80c2425cf.js" async=""></script><script src="/my-personal-blog/commons-07408f3b3ddd554c2a19.js" async=""></script><script src="/my-personal-blog/styles-407fe62976dc5310c43e.js" async=""></script><script src="/my-personal-blog/app-0c68dc2dd608d2aa2a85.js" async=""></script><script src="/my-personal-blog/framework-e31797ba1674590871c3.js" async=""></script><script src="/my-personal-blog/webpack-runtime-efd0731a29a0f8389119.js" async=""></script></body></html>